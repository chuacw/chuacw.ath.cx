<html>
    <head>
        <script type="text/javascript">
        async function ensureZilPay() {
            console.log("Checking zilpay")
            if (typeof window.zilPay !== 'undefined') {
                console.log("Calling zilPay") 
                let zilPay = window.zilPay
                if (!zilPay.wallet.isConnect) {     
                    console.log("Calling connect")
                    const connected = await zilPay.wallet.connect()
                    console.log(`Connected: ${connected}`)
                } else {
                    console.log("Already connected")
                }
                            
            } else {
                console.log("zilPay not defined")
            }
        }

        async function rentHouse() {
            await ensureZilPay()
        }

        async function registerHouse() {
            await ensureZilPay()
        }
        </script>
    </head>
    <body>
        <div><button onclick="rentHouse()">Rent</button>
        </div>
        <div><button onclick="registerHouse()">Register</button></div>
    </body>
</html>